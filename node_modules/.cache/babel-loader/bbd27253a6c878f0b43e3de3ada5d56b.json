{"ast":null,"code":"import React, { useContext, useEffect, useState } from 'react';\nimport { auth as firebaseAuth } from './firebase';\nexport const AuthContext = React.createContext({\n  loggedIn: false\n});\nexport function useAuth() {\n  return useContext(AuthContext);\n}\nexport function useAuthInit() {\n  const [authInit, setAuthInit] = useState({\n    loading: true\n  });\n  useEffect(() => {\n    return firebaseAuth.onAuthStateChanged(firebaseUser => {\n      const auth = firebaseUser ? {\n        loggedIn: true,\n        userId: firebaseUser.uid\n      } : {\n        loggedIn: false\n      };\n      setAuthInit({\n        loading: false,\n        auth\n      });\n    });\n  }, []);\n  return authInit;\n}","map":{"version":3,"sources":["/Users/zeta/Documents/XXX/Languages/ionic/daily-moments/src/auth.ts"],"names":["React","useContext","useEffect","useState","auth","firebaseAuth","AuthContext","createContext","loggedIn","useAuth","useAuthInit","authInit","setAuthInit","loading","onAuthStateChanged","firebaseUser","userId","uid"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAqD,OAArD;AACA,SAAQC,IAAI,IAAIC,YAAhB,QAAmC,YAAnC;AAYA,OAAO,MAAMC,WAAW,GAAGN,KAAK,CAACO,aAAN,CAA0B;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAA1B,CAApB;AAEP,OAAO,SAASC,OAAT,GAAyB;AAC9B,SAAOR,UAAU,CAACK,WAAD,CAAjB;AACD;AAGD,OAAO,SAASI,WAAT,GAAgC;AACrC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAW;AAACU,IAAAA,OAAO,EAAE;AAAV,GAAX,CAAxC;AACAX,EAAAA,SAAS,CAAC,MAAM;AACd,WAAOG,YAAY,CAACS,kBAAb,CAAiCC,YAAD,IAAkB;AACvD,YAAMX,IAAI,GAAGW,YAAY,GACzB;AAACP,QAAAA,QAAQ,EAAE,IAAX;AAAiBQ,QAAAA,MAAM,EAAED,YAAY,CAACE;AAAtC,OADyB,GAEzB;AAACT,QAAAA,QAAQ,EAAE;AAAX,OAFA;AAGAI,MAAAA,WAAW,CAAC;AAACC,QAAAA,OAAO,EAAE,KAAV;AAAiBT,QAAAA;AAAjB,OAAD,CAAX;AACD,KALM,CAAP;AAMD,GAPQ,EAOP,EAPO,CAAT;AAQA,SAAOO,QAAP;AACD","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport {auth as firebaseAuth} from './firebase';\n\ninterface Auth {\n  loggedIn: boolean;\n  userId?: string;\n}\n\ninterface AuthInit {\n  loading: boolean;\n  auth?: Auth;\n}\n\nexport const AuthContext = React.createContext<Auth>({loggedIn: false});\n\nexport function useAuth(): Auth {\n  return useContext(AuthContext);\n}\n\n\nexport function useAuthInit(): AuthInit{\n  const [authInit, setAuthInit] = useState<AuthInit>({loading: true});\n  useEffect(() => {\n    return firebaseAuth.onAuthStateChanged((firebaseUser) => {\n      const auth = firebaseUser ?\n      {loggedIn: true, userId: firebaseUser.uid} :\n      {loggedIn: false};\n      setAuthInit({loading: false, auth})\n    });\n  },[]);\n  return authInit;\n}\n"]},"metadata":{},"sourceType":"module"}