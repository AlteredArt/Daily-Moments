{"ast":null,"code":"var _jsxFileName = \"/Users/zeta/Documents/XXX/Languages/ionic/daily-moments/src/pages/EntryPage.tsx\";\nimport { IonBackButton, IonButton, IonButtons, IonContent, IonHeader, IonIcon, IonPage, IonTitle, IonToolbar } from '@ionic/react';\nimport { trash as trashIcon } from 'ionicons/icons';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router';\nimport { useAuth } from '../auth';\nimport { formatDate } from '../date';\nimport { firestore } from '../firebase';\nimport { toEntry } from '../models';\n\nconst EntryPage = () => {\n  const {\n    userId\n  } = useAuth();\n  const history = useHistory();\n  const {\n    id\n  } = useParams();\n  const [entry, setEntry] = useState();\n  useEffect(() => {\n    const entryRef = firestore.collection('users').doc(userId).collection('entries').doc(id);\n    entryRef.get().then(doc => setEntry(toEntry(doc)));\n  }, [userId, id]);\n\n  const handleDelete = async () => {\n    const entryRef = firestore.collection('users').doc(userId).collection('entries').doc(id);\n    await entryRef.delete();\n    history.goBack();\n  };\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonBackButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, formatDate(entry === null || entry === void 0 ? void 0 : entry.date)), /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: trashIcon,\n    slot: \"icon-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(IonContent, {\n    className: \"ion-padding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, entry === null || entry === void 0 ? void 0 : entry.title), /*#__PURE__*/React.createElement(\"img\", {\n    src: entry === null || entry === void 0 ? void 0 : entry.pictureUrl,\n    alt: entry === null || entry === void 0 ? void 0 : entry.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, entry === null || entry === void 0 ? void 0 : entry.description)));\n};\n\nexport default EntryPage;","map":{"version":3,"sources":["/Users/zeta/Documents/XXX/Languages/ionic/daily-moments/src/pages/EntryPage.tsx"],"names":["IonBackButton","IonButton","IonButtons","IonContent","IonHeader","IonIcon","IonPage","IonTitle","IonToolbar","trash","trashIcon","React","useEffect","useState","useHistory","useParams","useAuth","formatDate","firestore","toEntry","EntryPage","userId","history","id","entry","setEntry","entryRef","collection","doc","get","then","handleDelete","delete","goBack","date","title","pictureUrl","description"],"mappings":"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","sourcesContent":["import {\n  IonBackButton,\n  IonButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonIcon,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n} from '@ionic/react';\nimport { trash as trashIcon } from 'ionicons/icons';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router';\nimport { useAuth } from '../auth';\nimport { formatDate } from '../date';\nimport { firestore } from '../firebase';\nimport { Entry, toEntry } from '../models';\n\ninterface RouteParams {\n  id: string;\n}\n\nconst EntryPage: React.FC = () => {\n  const { userId } = useAuth();\n  const history = useHistory();\n  const { id } = useParams<RouteParams>();\n  const [entry, setEntry] = useState<Entry>();\n  useEffect(() => {\n    const entryRef = firestore.collection('users').doc(userId)\n      .collection('entries').doc(id);\n    entryRef.get().then((doc) => setEntry(toEntry(doc)));\n  }, [userId, id]);\n\n  const handleDelete = async () => {\n    const entryRef = firestore.collection('users').doc(userId)\n      .collection('entries').doc(id);\n    await entryRef.delete();\n    history.goBack();\n  };\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton />\n          </IonButtons>\n          <IonTitle>{formatDate(entry?.date)}</IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton onClick={handleDelete}>\n              <IonIcon icon={trashIcon} slot=\"icon-only\" />\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        <h2>{entry?.title}</h2>\n        <img src={entry?.pictureUrl} alt={entry?.title} />\n        <p>{entry?.description}</p>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default EntryPage;\n"]},"metadata":{},"sourceType":"module"}