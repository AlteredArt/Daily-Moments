{"ast":null,"code":"var _jsxFileName = \"/Users/zeta/Documents/XXX/Languages/ionic/daily-moments/src/pages/HomePage.tsx\";\nimport { IonContent, IonFab, IonFabButton, IonHeader, IonIcon, IonItem, IonLabel, IonList, IonPage, IonTitle, IonToolbar, IonThumbnail, IonImg } from '@ionic/react';\nimport { add as addIcon } from 'ionicons/icons';\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../auth';\nimport { formatDate } from '../date';\nimport { firestore } from '../firebase';\nimport { toEntry } from '../models';\n\nconst HomePage = () => {\n  const {\n    userId\n  } = useAuth();\n  const [entries, setEntries] = useState([]);\n  useEffect(() => {\n    const entriesRef = firestore.collection('users').doc(userId).collection('entries');\n    return entriesRef.orderBy('date', 'desc').limit(7).onSnapshot(({\n      docs\n    }) => setEntries(docs.map(toEntry)));\n  }, [userId]);\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, \"Home\"))), /*#__PURE__*/React.createElement(IonContent, {\n    className: \"ion-padding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, entries.map(entry => /*#__PURE__*/React.createElement(IonItem, {\n    button: true,\n    key: entry.id,\n    routerLink: `/my/entries/view/${entry.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonThumbnail, {\n    slot: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonImg, {\n    src: entry.pictureUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, formatDate(entry.date)), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, entry.title))))), /*#__PURE__*/React.createElement(IonFab, {\n    vertical: \"bottom\",\n    horizontal: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonFabButton, {\n    routerLink: \"/my/entries/add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: addIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/zeta/Documents/XXX/Languages/ionic/daily-moments/src/pages/HomePage.tsx"],"names":["IonContent","IonFab","IonFabButton","IonHeader","IonIcon","IonItem","IonLabel","IonList","IonPage","IonTitle","IonToolbar","IonThumbnail","IonImg","add","addIcon","React","useState","useEffect","useAuth","formatDate","firestore","toEntry","HomePage","userId","entries","setEntries","entriesRef","collection","doc","orderBy","limit","onSnapshot","docs","map","entry","id","pictureUrl","date","title"],"mappings":"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","sourcesContent":["import {\n  IonContent,\n  IonFab,\n  IonFabButton,\n  IonHeader,\n  IonIcon,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonThumbnail,\n  IonImg,\n} from '@ionic/react';\nimport { add as addIcon } from 'ionicons/icons';\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../auth';\nimport { formatDate } from '../date';\nimport { firestore } from '../firebase';\nimport { Entry, toEntry } from '../models';\n\nconst HomePage: React.FC = () => {\n  const { userId } = useAuth();\n  const [entries, setEntries] = useState<Entry[]>([]);\n  useEffect(() => {\n    const entriesRef = firestore.collection('users').doc(userId)\n      .collection('entries');\n    return entriesRef.orderBy('date', 'desc').limit(7)\n      .onSnapshot(({ docs }) => setEntries(docs.map(toEntry)))\n  }, [userId]);\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Home</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        <IonList>\n          {entries.map((entry) =>\n            <IonItem button key={entry.id}\n              routerLink={`/my/entries/view/${entry.id}`}>\n              <IonThumbnail slot=\"end\">\n                <IonImg src={entry.pictureUrl} />\n              </IonThumbnail>\n              <IonLabel>\n                <h2>{formatDate(entry.date)}</h2>\n                <h3>{entry.title}</h3>\n              </IonLabel>\n            </IonItem>\n          )}\n        </IonList>\n        <IonFab vertical=\"bottom\" horizontal=\"end\">\n          <IonFabButton routerLink=\"/my/entries/add\">\n            <IonIcon icon={addIcon} />\n          </IonFabButton>\n        </IonFab>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}