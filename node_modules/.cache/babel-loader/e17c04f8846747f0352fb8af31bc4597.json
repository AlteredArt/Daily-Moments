{"ast":null,"code":"import React, { useContext, useEffect, useState } from 'react';\nimport { auth as firebaseAuth } from './firebase';\nexport const AuthContext = React.createContext({\n  loggedIn: false\n});\nexport function useAuth() {\n  return useContext(AuthContext);\n}\nexport function useAuthInit() {\n  const [authState, setAuthState] = useState({\n    loading: true,\n    loggedIn: false\n  });\n  useEffect(() => {\n    firebaseAuth.onAuthStateChanged(user => {\n      setAuthState({\n        loading: false,\n        loggedIn: Boolean(user)\n      });\n    });\n  }, []);\n  return authState;\n}","map":{"version":3,"sources":["/Users/zeta/Documents/XXX/Languages/ionic/daily-moments/src/auth.ts"],"names":["React","useContext","useEffect","useState","auth","firebaseAuth","AuthContext","createContext","loggedIn","useAuth","useAuthInit","authState","setAuthState","loading","onAuthStateChanged","user","Boolean"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAqD,OAArD;AACA,SAAQC,IAAI,IAAIC,YAAhB,QAAmC,YAAnC;AAMA,OAAO,MAAMC,WAAW,GAAGN,KAAK,CAACO,aAAN,CAA0B;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAA1B,CAApB;AAEP,OAAO,SAASC,OAAT,GAAmB;AACxB,SAAOR,UAAU,CAACK,WAAD,CAAjB;AACD;AAGD,OAAO,SAASI,WAAT,GAAsB;AAC3B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC;AAACU,IAAAA,OAAO,EAAE,IAAV;AAAgBL,IAAAA,QAAQ,EAAE;AAA1B,GAAD,CAA1C;AACAN,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,YAAY,CAACS,kBAAb,CAAiCC,IAAD,IAAU;AACxCH,MAAAA,YAAY,CAAC;AAACC,QAAAA,OAAO,EAAE,KAAV;AAAiBL,QAAAA,QAAQ,EAAEQ,OAAO,CAACD,IAAD;AAAlC,OAAD,CAAZ;AACD,KAFD;AAGD,GAJQ,EAIP,EAJO,CAAT;AAKA,SAAOJ,SAAP;AACD","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport {auth as firebaseAuth} from './firebase';\n\ninterface Auth {\n  LoggedIn: boolean;\n}\n\nexport const AuthContext = React.createContext<Auth>({loggedIn: false});\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\n\nexport function useAuthInit(){\n  const [authState, setAuthState] = useState({loading: true, loggedIn: false});\n  useEffect(() => {\n    firebaseAuth.onAuthStateChanged((user) => {\n      setAuthState({loading: false, loggedIn: Boolean(user)});\n    })\n  },[]);\n  return authState;\n}\n"]},"metadata":{},"sourceType":"module"}